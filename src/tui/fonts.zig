const Plane = @import("renderer").Plane;
const Style = @import("theme").Style;

pub fn print_string_large(n: *Plane, s: []const u8, style: Style) !void {
    for (s) |c|
        print_char_large(n, c, style) catch break;
}

pub fn print_char_large(n: *Plane, char: u8, style: Style) !void {
    const bitmap = font8x8[char];
    for (0..8) |y| {
        for (0..8) |x| {
            const set = bitmap[y] & @as(usize, 1) << @intCast(x);
            if (set != 0) {
                try write_cell(n, "â–ˆ", style);
            } else {
                n.cursor_move_rel(0, 1) catch {};
            }
        }
        n.cursor_move_rel(1, -8) catch {};
    }
    n.cursor_move_rel(-8, 8) catch {};
}

pub fn print_string_medium(n: *Plane, s: []const u8, style: Style) !void {
    for (s) |c|
        print_char_medium(n, c, style) catch break;
}

const QUADBLOCKS = [_][:0]const u8{ " ", "â–˜", "â–", "â–€", "â––", "â–Œ", "â–ž", "â–›", "â–—", "â–š", "â–", "â–œ", "â–„", "â–™", "â–Ÿ", "â–ˆ" };

pub fn print_char_medium(n: *Plane, char: u8, style: Style) !void {
    const bitmap = font8x8[char];
    for (0..4) |y| {
        for (0..4) |x| {
            const yt = 2 * y;
            const yb = 2 * y + 1;
            const xl = 2 * x;
            const xr = 2 * x + 1;
            const settl: u4 = if (bitmap[yt] & @as(usize, 1) << @intCast(xl) != 0) 1 else 0;
            const settr: u4 = if (bitmap[yt] & @as(usize, 1) << @intCast(xr) != 0) 2 else 0;
            const setbl: u4 = if (bitmap[yb] & @as(usize, 1) << @intCast(xl) != 0) 4 else 0;
            const setbr: u4 = if (bitmap[yb] & @as(usize, 1) << @intCast(xr) != 0) 8 else 0;
            const quadidx: u4 = setbr | setbl | settr | settl;
            const c = QUADBLOCKS[quadidx];
            if (quadidx != 0) {
                try write_cell(n, c, style);
            } else {
                n.cursor_move_rel(0, 1) catch {};
            }
        }
        n.cursor_move_rel(1, -4) catch {};
    }
    n.cursor_move_rel(-4, 4) catch {};
}

fn write_cell(n: *Plane, egc: [:0]const u8, style: Style) !void {
    var cell = n.cell_init();
    _ = n.at_cursor_cell(&cell) catch return;
    _ = n.cell_load(&cell, egc) catch {};
    cell.set_style_fg(style);
    _ = n.putc(&cell) catch {};
}

pub const font8x8: [128][8]u8 = [128][8]u8{
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 24, 60, 60, 24, 24, 0, 24, 0 },
    [8]u8{ 54, 54, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 54, 54, 127, 54, 127, 54, 54, 0 },
    [8]u8{ 12, 62, 3, 30, 48, 31, 12, 0 },
    [8]u8{ 0, 99, 51, 24, 12, 102, 99, 0 },
    [8]u8{ 28, 54, 28, 110, 59, 51, 110, 0 },
    [8]u8{ 6, 6, 3, 0, 0, 0, 0, 0 },
    [8]u8{ 24, 12, 6, 6, 6, 12, 24, 0 },
    [8]u8{ 6, 12, 24, 24, 24, 12, 6, 0 },
    [8]u8{ 0, 102, 60, 255, 60, 102, 0, 0 },
    [8]u8{ 0, 12, 12, 63, 12, 12, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 12, 12, 6 },
    [8]u8{ 0, 0, 0, 63, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 12, 12, 0 },
    [8]u8{ 96, 48, 24, 12, 6, 3, 1, 0 },
    [8]u8{ 62, 99, 115, 123, 111, 103, 62, 0 },
    [8]u8{ 12, 14, 12, 12, 12, 12, 63, 0 },
    [8]u8{ 30, 51, 48, 28, 6, 51, 63, 0 },
    [8]u8{ 30, 51, 48, 28, 48, 51, 30, 0 },
    [8]u8{ 56, 60, 54, 51, 127, 48, 120, 0 },
    [8]u8{ 63, 3, 31, 48, 48, 51, 30, 0 },
    [8]u8{ 28, 6, 3, 31, 51, 51, 30, 0 },
    [8]u8{ 63, 51, 48, 24, 12, 12, 12, 0 },
    [8]u8{ 30, 51, 51, 30, 51, 51, 30, 0 },
    [8]u8{ 30, 51, 51, 62, 48, 24, 14, 0 },
    [8]u8{ 0, 12, 12, 0, 0, 12, 12, 0 },
    [8]u8{ 0, 12, 12, 0, 0, 12, 12, 6 },
    [8]u8{ 24, 12, 6, 3, 6, 12, 24, 0 },
    [8]u8{ 0, 0, 63, 0, 0, 63, 0, 0 },
    [8]u8{ 6, 12, 24, 48, 24, 12, 6, 0 },
    [8]u8{ 30, 51, 48, 24, 12, 0, 12, 0 },
    [8]u8{ 62, 99, 123, 123, 123, 3, 30, 0 },
    [8]u8{ 12, 30, 51, 51, 63, 51, 51, 0 },
    [8]u8{ 63, 102, 102, 62, 102, 102, 63, 0 },
    [8]u8{ 60, 102, 3, 3, 3, 102, 60, 0 },
    [8]u8{ 31, 54, 102, 102, 102, 54, 31, 0 },
    [8]u8{ 127, 70, 22, 30, 22, 70, 127, 0 },
    [8]u8{ 127, 70, 22, 30, 22, 6, 15, 0 },
    [8]u8{ 60, 102, 3, 3, 115, 102, 124, 0 },
    [8]u8{ 51, 51, 51, 63, 51, 51, 51, 0 },
    [8]u8{ 30, 12, 12, 12, 12, 12, 30, 0 },
    [8]u8{ 120, 48, 48, 48, 51, 51, 30, 0 },
    [8]u8{ 103, 102, 54, 30, 54, 102, 103, 0 },
    [8]u8{ 15, 6, 6, 6, 70, 102, 127, 0 },
    [8]u8{ 99, 119, 127, 127, 107, 99, 99, 0 },
    [8]u8{ 99, 103, 111, 123, 115, 99, 99, 0 },
    [8]u8{ 28, 54, 99, 99, 99, 54, 28, 0 },
    [8]u8{ 63, 102, 102, 62, 6, 6, 15, 0 },
    [8]u8{ 30, 51, 51, 51, 59, 30, 56, 0 },
    [8]u8{ 63, 102, 102, 62, 54, 102, 103, 0 },
    [8]u8{ 30, 51, 7, 14, 56, 51, 30, 0 },
    [8]u8{ 63, 45, 12, 12, 12, 12, 30, 0 },
    [8]u8{ 51, 51, 51, 51, 51, 51, 63, 0 },
    [8]u8{ 51, 51, 51, 51, 51, 30, 12, 0 },
    [8]u8{ 99, 99, 99, 107, 127, 119, 99, 0 },
    [8]u8{ 99, 99, 54, 28, 28, 54, 99, 0 },
    [8]u8{ 51, 51, 51, 30, 12, 12, 30, 0 },
    [8]u8{ 127, 99, 49, 24, 76, 102, 127, 0 },
    [8]u8{ 30, 6, 6, 6, 6, 6, 30, 0 },
    [8]u8{ 3, 6, 12, 24, 48, 96, 64, 0 },
    [8]u8{ 30, 24, 24, 24, 24, 24, 30, 0 },
    [8]u8{ 8, 28, 54, 99, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 255 },
    [8]u8{ 12, 12, 24, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 30, 48, 62, 51, 110, 0 },
    [8]u8{ 7, 6, 6, 62, 102, 102, 59, 0 },
    [8]u8{ 0, 0, 30, 51, 3, 51, 30, 0 },
    [8]u8{ 56, 48, 48, 62, 51, 51, 110, 0 },
    [8]u8{ 0, 0, 30, 51, 63, 3, 30, 0 },
    [8]u8{ 28, 54, 6, 15, 6, 6, 15, 0 },
    [8]u8{ 0, 0, 110, 51, 51, 62, 48, 31 },
    [8]u8{ 7, 6, 54, 110, 102, 102, 103, 0 },
    [8]u8{ 12, 0, 14, 12, 12, 12, 30, 0 },
    [8]u8{ 48, 0, 48, 48, 48, 51, 51, 30 },
    [8]u8{ 7, 6, 102, 54, 30, 54, 103, 0 },
    [8]u8{ 14, 12, 12, 12, 12, 12, 30, 0 },
    [8]u8{ 0, 0, 51, 127, 127, 107, 99, 0 },
    [8]u8{ 0, 0, 31, 51, 51, 51, 51, 0 },
    [8]u8{ 0, 0, 30, 51, 51, 51, 30, 0 },
    [8]u8{ 0, 0, 59, 102, 102, 62, 6, 15 },
    [8]u8{ 0, 0, 110, 51, 51, 62, 48, 120 },
    [8]u8{ 0, 0, 59, 110, 102, 6, 15, 0 },
    [8]u8{ 0, 0, 62, 3, 30, 48, 31, 0 },
    [8]u8{ 8, 12, 62, 12, 12, 44, 24, 0 },
    [8]u8{ 0, 0, 51, 51, 51, 51, 110, 0 },
    [8]u8{ 0, 0, 51, 51, 51, 30, 12, 0 },
    [8]u8{ 0, 0, 99, 107, 127, 127, 54, 0 },
    [8]u8{ 0, 0, 99, 54, 28, 54, 99, 0 },
    [8]u8{ 0, 0, 51, 51, 51, 62, 48, 31 },
    [8]u8{ 0, 0, 63, 25, 12, 38, 63, 0 },
    [8]u8{ 56, 12, 12, 7, 12, 12, 56, 0 },
    [8]u8{ 24, 24, 24, 0, 24, 24, 24, 0 },
    [8]u8{ 7, 12, 12, 56, 12, 12, 7, 0 },
    [8]u8{ 110, 59, 0, 0, 0, 0, 0, 0 },
    [8]u8{ 0, 0, 0, 0, 0, 0, 0, 0 },
};

pub const font_test_text: []const u8 =
    \\
    \\notcurses (3.0.9) glyph rendering test suite:
    \\
    \\  â–˜â–â–€â––â–Œâ–žâ–›â–—â–šâ–â–œâ–„â–™â–Ÿâ–ˆâŽ§ ðŸ¬€ðŸ¬ðŸ¬‚ðŸ¬ƒðŸ¬„ðŸ¬…ðŸ¬†ðŸ¬‡ðŸ¬ˆðŸ¬ŠðŸ¬‹ðŸ¬ŒðŸ¬ðŸ¬ŽðŸ¬ðŸ¬ðŸ¬‘ðŸ¬’ðŸ¬“â–ŒðŸ¬”ðŸ¬•ðŸ¬–ðŸ¬—ðŸ¬˜ðŸ¬™ðŸ¬šðŸ¬›ðŸ¬œðŸ¬âŽ«â™ â™¥ðŸ¯°ðŸ¯±ðŸ¯²ðŸ¯³ðŸ¯´ðŸ¯µðŸ¯¶ðŸ¯·ðŸ¯¸ðŸ¯¹â…—â…˜â…™â…šâ…›âŽ§â–•â–âŽ«â”Œâ•¥â”€â•¥â”€â•¥â”ðŸ­©âŽ›âŽž
    \\ â•²â•¿â•± â—¨â—§ â—ªâ—© â—–â—— â«·â«¸ âŽ©ðŸ¬ŸðŸ¬ ðŸ¬¡ðŸ¬¢ðŸ¬£ðŸ¬¤ðŸ¬¥ðŸ¬¦ðŸ¬§â–ðŸ¬¨ðŸ¬©ðŸ¬ªðŸ¬«ðŸ¬¬ðŸ¬­ðŸ¬®ðŸ¬¯ðŸ¬°ðŸ¬±ðŸ¬²ðŸ¬³ðŸ¬´ðŸ¬µðŸ¬¶ðŸ¬·ðŸ¬¸ðŸ¬¹ðŸ¬ºðŸ¬»â–ˆâŽ­â™¦â™£Â¼Â½Â¾â…â…‘â…’â…“â…”â…•â…–â…œâ…â…žâ…Ÿâ†‰âŽªðŸ®‡â–ŽâŽªâ”œâ•œâ•“â•«â•–â•™â”¤ðŸ­«âŽœâŽŸ
    \\ â•¾â•³â•¼ â—²â—± â—¶â—µ ðŸ®£ðŸ®  ðŸ®¤ðŸ®¥â—œâ— â—¿â—º ðŸ®žðŸ®Ÿ â—¢â—£ â”Œâ”â”€ â”â”“â” â•­â•®â”€ â•”â•—â• ðŸ­½ðŸ­¾â–â™Ÿâ™œâ™žâ©˜â–µâ–³â–¹â–·â–¿â–½â—ƒâ—â­¡â­£â­ â­¢â­§â­©â­¦â­¨âŽªðŸ®ˆâ–âŽªâ”œâ”€â•¨â•«â•¨â”€â”¤â”‡âŽœâŽŸ
    \\ â•±â•½â•² â—³â—° â—·â—´ ðŸ®¡ðŸ®¢ ðŸ®¦ðŸ®§â—Ÿâ—ž â—¹â—¸ ðŸ®ðŸ®œ â—¥â—¤ â””â”˜â”‚ â”—â”›â”ƒ â•°â•¯â”‚ â•šâ•â•‘ ðŸ­¼ðŸ­¿ðŸ­µâ™â™›â™šâ©—â–´â¶â¯…â–²â–¸âµâ¯ˆâ–¶â–¾â·â¯†â–¼â—‚â´â¯‡â—€âŽªâ–â–ŒâŽªâ•žâ•â•¤â•¬â•¤â•â•¡â”‹âŽœâŽŸ
    \\ âŽ¡â €â â ˆâ ‰â ‚â ƒâ Šâ ‹â â ‘â ˜â ™â ’â “â šâ ›â „â …â Œâ â †â ‡â Žâ â ”â •â œâ â –â —â žâ Ÿâ  â ¡â ¨â ©â ¢â £â ªâ «â °â ±â ¸â ¹â ²â ³â ºâ »â ¤â ¥â ¬â ­â ¦â §â ®â ¯â ´â µâ ¼â ½â ¶â ·â ¾â ¿âŽ¤âŽ¨ðŸ®‰â–‹âŽ¬â•žâ••â•˜â•¬â•›â•’â•¡â”ŠâŽœâŽŸ
    \\ âŽ¢â¡€â¡â¡ˆâ¡‰â¡‚â¡ƒâ¡Šâ¡‹â¡â¡‘â¡˜â¡™â¡’â¡“â¡šâ¡›â¡„â¡…â¡Œâ¡â¡†â¡‡â¡Žâ¡â¡”â¡•â¡œâ¡â¡–â¡—â¡žâ¡Ÿâ¡ â¡¡â¡¨â¡©â¡¢â¡£â¡ªâ¡«â¡°â¡±â¡¸â¡¹â¡²â¡³â¡ºâ¡»â¡¤â¡¥â¡¬â¡­â¡¦â¡§â¡®â¡¯â¡´â¡µâ¡¼â¡½â¡¶â¡·â¡¾â¡¿âŽ¥âŽªðŸ®Šâ–ŠâŽªâ””â”´â”€â•¨â”€â”´â”˜â•âŽâŽ 
    \\ âŽ¢â¢€â¢â¢ˆâ¢‰â¢‚â¢ƒâ¢Šâ¢‹â¢â¢‘â¢˜â¢™â¢’â¢“â¢šâ¢›â¢„â¢…â¢Œâ¢â¢†â¢‡â¢Žâ¢â¢”â¢•â¢œâ¢â¢–â¢—â¢žâ¢Ÿâ¢ â¢¡â¢¨â¢©â¢¢â¢£â¢ªâ¢«â¢°â¢±â¢¸â¢¹â¢²â¢³â¢ºâ¢»â¢¤â¢¥â¢¬â¢­â¢¦â¢§â¢®â¢¯â¢´â¢µâ¢¼â¢½â¢¶â¢·â¢¾â¢¿âŽ¥âŽªðŸ®‹â–‰âŽªâ•­â”€â”€â•®âŸ¬âŸ­â•”â•—â‰¶â‰·
    \\ âŽ£â£€â£â£ˆâ£‰â£‚â£ƒâ£Šâ£‹â£â£‘â£˜â£™â£’â£“â£šâ£›â£„â£…â£Œâ£â£†â£‡â£Žâ£â£”â£•â£œâ£â£–â£—â£žâ£Ÿâ£ â£¡â£¨â£©â£¢â££â£ªâ£«â£°â£±â£¸â£¹â£²â£³â£ºâ£»â£¤â£¥â£¬â£­â£¦â£§â£®â£¯â£´â£µâ£¼â£½â£¶â£·â£¾â£¿âŽ¦âŽªâ–ˆâ–ˆâŽªâ”‚â•­â•®â”‚â•”â•â•â•‘âŠ†âŠ‡
    \\  â–”ðŸ­¶ðŸ­·ðŸ­¸ðŸ­¹ðŸ­ºðŸ­»â– ðŸ­ðŸ­Œ ðŸ­‚ðŸ­ ðŸ­ƒðŸ­Ž ðŸ­„ðŸ­ ðŸ­…ðŸ­ ðŸ­†ðŸ­‘ ðŸ­‡ðŸ¬¼ ðŸ­ˆðŸ¬½ ðŸ­‰ðŸ¬¾ ðŸ­ŠðŸ¬¿ ðŸ­‹ðŸ­€ â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰ âŽ› â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆðŸ­«âŽžâŽªðŸ­¨ðŸ­ªâŽªâ•°â•¯â”‚â”‚â•‘â•”â•â•âŠ´âŠµ
    \\  â–ðŸ­°ðŸ­±ðŸ­²ðŸ­³ðŸ­´ðŸ­µâ–• ðŸ­’ðŸ­ ðŸ­“ðŸ­ž ðŸ­”ðŸ­Ÿ ðŸ­•ðŸ­  ðŸ­–ðŸ­¡ ðŸ­§ðŸ­œ ðŸ­¢ðŸ­— ðŸ­£ðŸ­˜ ðŸ­¤ðŸ­™ ðŸ­¥ðŸ­š ðŸ­¦ðŸ­› â°Â¹Â²Â³â´âµâ¶â·â¸â¹ âŽ â–”ðŸ®‚ðŸ®ƒâ–€ðŸ®„ðŸ®…ðŸ®†â–ˆðŸ­©âŽ âŽ©ðŸ­ªðŸ­¨âŽ­â§’â§‘â•°â•¯â•šâ•â¨â©âŸƒâŸ„
    \\ ðŸ‘¾ðŸ´ðŸ¤˜ðŸš¬ðŸŒðŸŒŽðŸŒðŸ¥†ðŸ’£ðŸ—¡ðŸ”«âš—ï¸âš›ï¸â˜¢ï¸â˜£ï¸ðŸŒ¿ðŸŽ±ðŸ§ðŸ’‰ðŸ’ŠðŸ•´ï¸ðŸ“¡ðŸ¤»ðŸ¦‘ðŸ‡¦ðŸ‡¶ðŸ‘©â€ðŸ”¬ðŸª¤ðŸš±âœŠðŸ¿ðŸ”¬ðŸ§¬ðŸ´â€â˜ ï¸ðŸ¤½ðŸ¼â€â™€ï¸
    \\
    \\
    \\Unicode mode 2027 tests:
    \\
    \\xxxxxxxxxx
    \\xxxxðŸ§‘â€ðŸŒ¾xxxx
    \\xxxxxxxxxx
    \\
    \\xxxxxxxxxxxxxxxxxxxxxxxx
    \\xxðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾xx
    \\xxðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾ðŸ§‘â€ðŸŒ¾xx
    \\xxxxxxxxxxxxxxxxxxxxxxxx
    \\
    \\ðŸ™‚â€â†”
    \\
    \\
    \\ä½ å¥½ä¸–ç•Œ "Hello World"
    \\ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å "123456789"
    \\é¾é³³éºŸé¾œ (dragon, phoenix, qilin, turtle)
    \\Fullwidth numbers: ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™ï¼
    \\Fullwidth letters: ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ã€€ï½ï½‚ï½ƒï½„ï½…ï½†ï½‡
    \\Fullwidth punctuation: ï¼ï¼ ï¼ƒï¼„ï¼…ï¼¾ï¼†ï¼Šï¼ˆï¼‰
    \\Half-width (normal): ABC 123
    \\Full-width (double): ï¼¡ï¼¢ï¼£ã€€ï¼‘ï¼’ï¼“
    \\Punctuation: ã€‚ï¼Œã€ï¼›ï¼šã€Œã€ã€Žã€
    \\Symbols: â—‹â—â–¡â– â–³â–²â˜†â˜…â—‡â—†
    \\
    \\ recommended fonts for terminals with no nerdfont fallback support (e.g. flow-gui):
    \\
    \\ "IosevkaTerm Nerd Font" => https://github.com/ryanoasis/nerd-fonts/releases/download/v3.3.0/IosevkaTerm.zip
    \\ "Cascadia Code NF" => https://github.com/microsoft/cascadia-code/releases/download/v2407.24/CascadiaCode-2407.24.zip
    \\
;

pub const DigitStyle = @import("config").DigitStyle;

pub fn get_digit(n: anytype, style_: DigitStyle) []const u8 {
    return switch (style_) {
        .ascii => digits_ascii[n],
        .digital => digits_digtl[n],
        .subscript => digits_subsc[n],
        .superscript => digits_super[n],
    };
}

pub fn get_digit_ascii(char: []const u8, style_: DigitStyle) []const u8 {
    if (char.len == 0) return " ";
    if (char[0] > '9' or char[0] < '0') return char;
    return get_digit(char[0] - '0', style_);
}

const digits_ascii: [10][]const u8 = .{ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9" };
const digits_digtl: [10][]const u8 = .{ "ðŸ¯°", "ðŸ¯±", "ðŸ¯²", "ðŸ¯³", "ðŸ¯´", "ðŸ¯µ", "ðŸ¯¶", "ðŸ¯·", "ðŸ¯¸", "ðŸ¯¹" };
const digits_subsc: [10][]const u8 = .{ "â‚€", "â‚", "â‚‚", "â‚ƒ", "â‚„", "â‚…", "â‚†", "â‚‡", "â‚ˆ", "â‚‰" };
const digits_super: [10][]const u8 = .{ "â°", "Â¹", "Â²", "Â³", "â´", "âµ", "â¶", "â·", "â¸", "â¹" };
